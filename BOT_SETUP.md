# Настройка бота @BlackMirrowAdminBot

## Рекомендуемые настройки прав администратора

Для корректной работы бота @BlackMirrowAdminBot в каналах Telegram необходимо настроить следующие права:

### ✅ Обязательные права (должны быть включены):

1. **Доступ к сообщениям** (имеет доступ к сообщениям) - **ОБЯЗАТЕЛЬНО**
   - Без этого права бот не сможет проверять комментарии к постам
   - Это право уже включено по умолчанию

2. **Управление сообщениями** - **НУЖНО ВКЛЮЧИТЬ** (базовое право)
   - Для получения обновлений о комментариях через `getUpdates` или webhook
   - **НО подпункты НЕ нужны:**
     - ❌ **Публикация сообщений** - НЕ нужно (бот не публикует сообщения)
     - ❌ **Редактирование чужих публикаций** - НЕ нужно (бот не редактирует)
     - ❌ **Удаление чужих публикаций** - НЕ нужно (бот не удаляет)
   - Бот должен только **читать** комментарии, а не публиковать/редактировать/удалять

### ❌ Права, которые НЕ нужны (можно отключить):

1. **Изменение профиля канала** - НЕ нужно
2. **Управление историями** - НЕ нужно
3. **Добавление участников** - НЕ нужно (это для групп, не для каналов)
4. **Управление трансляциями** - НЕ нужно
5. **Управление сообщениями каналу** - НЕ нужно
6. **Добавление администраторов** - НЕ нужно
7. **Блокировка пользователей** - НЕ нужно

## Как работает проверка

### Проверка подписок:
- Бот использует метод `get_chat_member` Telegram Bot API
- Для этого достаточно права "Доступ к сообщениям"
- Бот проверяет статус подписки пользователя на канал

### Проверка комментариев:
- Бот получает обновления о комментариях через `getUpdates` или webhook
- Для этого также достаточно права "Доступ к сообщениям"
- Бот ищет комментарии от конкретного пользователя к конкретному посту

## Важные замечания

1. **"Добавление участников" не поможет с подписками** - это право работает только для групп, а не для каналов. Для проверки подписок используется метод `get_chat_member`, который работает с правом "Доступ к сообщениям".

2. **Бот должен быть администратором канала** - только администраторы могут использовать `get_chat_member` для проверки подписок.

3. **Для получения обновлений о комментариях** бот должен быть настроен на получение обновлений (через webhook или polling).

## Минимальная конфигурация

Для работы бота нужно:
- ✅ Право "Доступ к сообщениям" (включено по умолчанию)
- ✅ Право "Управление сообщениями" (базовое право, без подпунктов)
- ✅ Бот добавлен как администратор канала
- ✅ Переменная окружения `TELEGRAM_ADMIN_BOT_TOKEN` установлена

**Важно:** Включайте только базовое право "Управление сообщениями", но отключите все подпункты (Публикация, Редактирование, Удаление). Бот должен только читать комментарии, а не изменять их.

