# üîß –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Builder –≤ Railway

## –ü—Ä–æ–±–ª–µ–º–∞

Railway –≤—Å–µ –µ—â–µ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dockerfile, –¥–∞–∂–µ –ø–æ—Å–ª–µ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è. –û—à–∏–±–∫–∞: "Dockerfile `Dockerfile` does not exist"

## –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Railway

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Root Directory

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å **BlackMirrowMarket** –≤ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Source**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Root Directory:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `backend` (–ë–ï–ó —Å–ª–µ—à–∞!)
   - –ï—Å–ª–∏ —Ç–∞–º `/backend` - –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ `backend`

### –®–∞–≥ 2: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ Builder

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Build**
2. –í —Ä–∞–∑–¥–µ–ª–µ **"Builder"** –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É —Å **"Dockerfile"**
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É** - –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–µ–Ω—é
4. –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è - –≤—ã–±–µ—Ä–∏—Ç–µ **"Railpack"**
5. –ï—Å–ª–∏ –ù–ï –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ß–µ—Ä–µ–∑ Config-as-code

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Config-as-code**
2. –¢–∞–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `railway.json`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–º —É–∫–∞–∑–∞–Ω–æ:
   ```json
   {
     "build": {
       "builder": "RAILPACK"
     }
   }
   ```
4. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 3: –û—á–∏—Å—Ç–∏—Ç–µ Dockerfile Path

1. –í **Settings** ‚Üí **Build**
2. –ü–æ–ª–µ **"Dockerfile Path"** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–ü–£–°–¢–´–ú**
3. –ï—Å–ª–∏ —Ç–∞–º —á—Ç–æ-—Ç–æ –µ—Å—Ç—å - —É–¥–∞–ª–∏—Ç–µ

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **—Ç—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ)** ‚Üí **"Redeploy"**
4. –ò–ª–∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- ‚úÖ Dockerfile —É–¥–∞–ª–µ–Ω –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ `railway.json` —Å–æ–¥–µ—Ä–∂–∏—Ç `"builder": "RAILPACK"`
- ‚úÖ `nixpacks.toml` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `backend/`
- ‚úÖ Root Directory = `backend` (–≤ Railway)

---

## ‚ö†Ô∏è –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å**:

1. –£–¥–∞–ª–∏—Ç–µ —Å–µ—Ä–≤–∏—Å BlackMirrowMarket
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–Ω–æ–≤–æ
4. Railway –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–∞—Ç—å Railpack (—Ç–∞–∫ –∫–∞–∫ Dockerfile –Ω–µ—Ç)

---

## üìù –§–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
- ‚ùå –ù–ï–¢ `Dockerfile` –∏–ª–∏ `Dockerfile.backup`
- ‚úÖ –ï–°–¢–¨ `railway.json` —Å `"builder": "RAILPACK"`
- ‚úÖ –ï–°–¢–¨ `backend/nixpacks.toml`
- ‚úÖ –ï–°–¢–¨ `backend/requirements.txt`

